я хочу доработать механизм обогащения заявок ссылками на карту вот каким образом. При создании заявки мы запрашиваем через nspd_service требуемые данные и сохраняем координаты и данные в служебном поле сделки в CRM , после выбора заявок из CRM для view_ticket_handlers мы берем координаты из служебного поля и обогащаем заявку ссылкой на 2гис.
но если заявка будет создана непосредственно в CRM или после будет отредактирована в CRM и кадастровые номера изменятся, то у нас в служебном поле не будет данных о координатах.
поэтому я хотел бы в случае отсутствия данных о координатах кадастровых номеров, указанных в описании заявки, получать их и обогащать сообщение через NSPD_service (может быть даже повторно обновляя служебное поле заявки в CRM для будущей оптимизации (кеширования) данных о координатах, при последующих запросах.)
подскажи как тебе идея, можешь ли ты дать какой то совет по реализации данного функционала или может есть способы сделать всё еще проще (может быть не стоит вообще хранить координаты а каждый раз запрашивать их из NSPD и обогащать описание заявки, может быть еще какие то механизмы есть, которые будут более логичными)




посмотри структуру моего проекта. это телеграм бот. в модуле view_ticket_handlers происходит отображение заявок для выезда из CRM системы.
я хотел бы улучшить пользовательский опыт и и отображать заявки на карте. Тоесть при нажатии на кнопку "показать заявки на завтра" мне бы выводился список заявок и последним сообщением была бы кнопка или ссылка - показать заявки на карте.
нажатие на кнопку или ссылку вело бы на frontend который бы получал координаты и описания заявок и отображал бы их на yandex карте.
frontend я хотел бы написать на VueJS + vite а бэкенд на FastApi
Давай обсудим общую логику работы пока что без кода, наметим план и начнем реализацию.
обрати внимание на следующие моменты.
авторизация пользователей не предусмотрена, поэтому хотелось бы какой то механизм со временем жизни ссылки или еще что то, чтобы свободный доступ к карте было получить сложнее.
также вопрос в передаче координат и данных о заявке в бэкенд из телеграм бота (ведь они уже загрузились в боте, зачем еще раз их загружать из бэкенда).