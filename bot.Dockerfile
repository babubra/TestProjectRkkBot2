# ===============================================
# Dockerfile для Telegram-бота (Aiogram)
# ===============================================

# --- ЭТАП 1: Базовый образ ---
# Используем тот же образ, что и для бэкенда.
FROM python:3.11-slim

# --- ЭТАП 2: Установка рабочей директории ---
WORKDIR /app

# --- ЭТАП 3: Установка зависимостей ---
# Копируем файл с зависимостями для бота.
COPY app_bot/requirements.txt /app/

# Устанавливаем библиотеки.
RUN pip install --no-cache-dir -r requirements.txt

# --- ЭТАП 4: Копирование исходного кода ---
# Копируем весь код бота в соответствующую папку внутри контейнера.
COPY app_bot/ /app/app_bot/

# --- ЭТАП 5: Команда запуска ---
# Определяем команду для запуска бота как модуля.
CMD ["python", "-m", "app_bot.bot"]